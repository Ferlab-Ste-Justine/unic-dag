{
  "concurrency": 4,
  "schedule": "0 6 * * 6",
  "timeout_hours": 7,
  "steps": [{
    "destination_zone": "red",
    "destination_subzone": "curated",
    "main_class": "bio.ferlab.ui.etl.red.curated.opera.Main",
    "multiple_main_methods": false,
    "publish_class": "",
    "schemas": [],
    "pre_tests": [{
      "name": "greater_or_equal_partition_counts", "destinations": [
        "curated_opera_vsinterventions_sec",
        "curated_opera_vsliste_verification",
        "curated_opera_vsniveau_priorite_ref",
        "curated_opera_vsoperation",
        "curated_opera_vsproduit_verifie",
        "curated_opera_vstype_visite_ref"
      ], "cluster_type" : "xsmall"}],
    "datasets": [
      {"dataset_id": "curated_opera_vsinterventions_sec",   "cluster_type": "small", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id": "curated_opera_vsliste_verification",  "cluster_type": "small", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id": "curated_opera_vsniveau_priorite_ref", "cluster_type": "small", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id": "curated_opera_vsoperation",           "cluster_type": "small", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id": "curated_opera_vsproduit_verifie",     "cluster_type": "small", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id": "curated_opera_vstype_visite_ref",     "cluster_type": "small", "run_type": "default", "cluster_specs": {}, "dependencies": []}
    ],
    "optimize" : [],
    "post_tests": []
  },
  {
    "destination_zone": "yellow",
    "destination_subzone": "anonymized",
    "main_class": "bio.ferlab.ui.etl.yellow.anonymized.Main",
    "multiple_main_methods": false,
    "publish_class": "",
    "schemas": [],
    "pre_tests": [
      {"name": "greater_or_equal_partition_counts", "destinations": [
        "anonymized_opera_vschariot",
        "anonymized_opera_vschariot_verifie",
        "anonymized_opera_vscondition_prealable",
        "anonymized_opera_vsevenement_ref",
        "anonymized_opera_*referentiel_*",
        "anonymized_opera_vsfiche_urgence",
        "anonymized_opera_vsgrille_infection",
        "anonymized_opera_vshoraire_ressource",
        "anonymized_opera_vsintervenant_ref",
        "anonymized_opera_vsintervention_ref",
        "anonymized_opera_vslocalisation_ref",
        "anonymized_opera_vsni_dispositifs_protecteur",
        "anonymized_opera_vsni_pression_arterielle",
        "anonymized_opera_vsni_re*",
        "anonymized_opera_vsni_surveillance",
        "anonymized_opera_vsorganisation_ref",
        "anonymized_opera_vsparametres_opera",
        "anonymized_opera_vspatient_non_disponibilite",
        "anonymized_opera_vspo*",
        "anonymized_opera_vsproduit",
        "anonymized_opera_vsproduit_fournisseur",
        "anonymized_opera_vsproduit_manufacturier",
        "anonymized_opera_vsraison_bt_changement_cap",
        "anonymized_opera_vstechnique_operatoire_ref",
        "anonymized_opera_vstype_intervenant_ref",
        "anonymized_opera_vstype_anesthesie_ref",
        "anonymized_opera_vssalle_ref",
        "anonymized_opera_vsspecialite_ref",
        "anonymized_opera_vssuivi_ref",
        "anonymized_opera_vsutilisateur"
      ], "cluster_type" : "xsmall"},
      {"name": "greater_partition_counts", "destinations": [
        "anonymized_opera_vsa*",
        "anonymized_opera_vscdj",
        "anonymized_opera_vsdelta_requete*",
        "anonymized_opera_vsetats",
        "anonymized_opera_vshoraire_salles",
        "anonymized_opera_vshoraire_blocstemps",
        "anonymized_opera_vsinfo_tracabilite*",
        "anonymized_opera_vsinterventions_plan",
        "anonymized_opera_vslog_transactions",
        "anonymized_opera_vsni_autre_equipement",
        "anonymized_opera_vsni_couverture",
        "anonymized_opera_vsni_desinfectant",
        "anonymized_opera_vsni_dispositif",
        "anonymized_opera_vsni_dispositif_positionnement",
        "anonymized_opera_vsni_e*",
        "anonymized_opera_vsni_f*",
        "anonymized_opera_vsni_g*",
        "anonymized_opera_vsni_h*",
        "anonymized_opera_vsni_irrigation",
        "anonymized_opera_vsni_loc",
        "anonymized_opera_vsni_medications_bloc_operatoire",
        "anonymized_opera_vsni_noyau",
        "anonymized_opera_vsni_patient_transfere_site",
        "anonymized_opera_vsni_pe*",
        "anonymized_opera_vsni_position_patient",
        "anonymized_opera_vsni_pro*",
        "anonymized_opera_vsni_rayonx",
        "anonymized_opera_vsni_risque_brulure",
        "anonymized_opera_vsni_specimen_laboratoire",
        "anonymized_opera_vsni_statut_psychosocial",
        "anonymized_opera_vsni_transfert_salle_operation_via",
        "anonymized_opera_vsni_via",
        "anonymized_opera_vsnotes_particulieres",
        "anonymized_opera_vsper*",
        "anonymized_opera_vspre*",
        "anonymized_opera_vsprogramme_verrouille",
        "anonymized_opera_vsrequete*",
        "anonymized_opera_vsressource_requise",
        "anonymized_opera_vsrisque",
        "anonymized_opera_vsstatut_programme",
        "anonymized_opera_vstemps_operatoires",
        "anonymized_opera_vsusager"
      ], "cluster_type" : "xsmall"}
    ],
    "datasets": [
      {"dataset_id":"anonymized_opera_vsa*"                              , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsc*"                              , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsdelta_requete*"                  , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vse*"                              , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsfiche_urgence"                   , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsgrille_infection"                , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vshoraire_*"                       , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsin*"                             , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsl*"                              , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_autre_equipement"             , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_couverture"                   , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_d*"                           , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_e*"                           , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_f*"                           , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_g*"                           , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_h*"                           , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_irrigation"                   , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_loc"                          , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_medications_bloc_operatoire"  , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_noyau"                        , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_p*"                           , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_r*"                           , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_s*"                           , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_transfert_salle_operation_via", "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsni_via"                          , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsniveau_priorite_ref"             , "cluster_type": "medium", "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsno*"                             , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vso*"                              , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsp*"                              , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsr*"                              , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vss*"                              , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vst*"                              , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []},
      {"dataset_id":"anonymized_opera_vsu*"                              , "cluster_type": "small" , "run_type": "default", "cluster_specs": {}, "dependencies": []}
    ],
    "optimize" : [],
    "post_tests": [
      {"name": "lower_or_equal_null_counts", "destinations": ["anonymized_opera_*"], "cluster_type" : "xsmall"},
      {"name": "equal_counts", "destinations": ["anonymized_opera_*"], "cluster_type" : "xsmall"}
    ]
  }]
}